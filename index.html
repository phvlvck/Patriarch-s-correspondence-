<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ - Patriarch's Correspondence</title>
    <meta name="description" content="ูููุน ุฏุฑุฏุดุฉ ูุจุงุดุฑ ูุนูู ุจูุธุงู Python ูุน ุชุณุฌูู ุงููุณุชุฎุฏููู ูุงูุฏุฑุฏุดุฉ ูู ุงูููุช ุงูุญูููู">
    <meta name="author" content="Chat System">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐ฌ</text></svg>">
</head>
<body>
    <!-- ุตูุญุฉ ุงููุตุงุฏูุฉ -->
    <div class="container" id="auth-container">
        <div class="auth-box">
            <h2><i class="fas fa-comments"></i> Patriarch's Correspondence</h2>
            <p style="color: #666; margin-bottom: 30px; font-size: 16px;">
                ูุธุงู ุฏุฑุฏุดุฉ ุขูู ููุจุงุดุฑ ูุน ุชุณุฌูู ุงููุณุชุฎุฏููู ูุงูุฏุฑุฏุดุฉ ูู ุงูููุช ุงูุญูููู
            </p>
            
            <div id="login-section">
                <h3><i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุงูุฏุฎูู</h3>
                <input type="text" id="login-username" placeholder="ุงุณู ุงููุณุชุฎุฏู" data-tooltip="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู ุงููุณุฌู">
                <input type="password" id="login-password" placeholder="ูููุฉ ุงููุฑูุฑ" data-tooltip="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ">
                <button onclick="login()">
                    <i class="fas fa-sign-in-alt"></i> ุฏุฎูู ุฅูู ุงูุฏุฑุฏุดุฉ
                </button>
                <p class="toggle-link" onclick="showRegister()">
                    <i class="fas fa-user-plus"></i> ููุณ ูุฏูู ุญุณุงุจุ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
                </p>
                <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-right: 4px solid #6a11cb;">
                    <p style="margin: 0; color: #666; font-size: 14px;">
                        <i class="fas fa-info-circle"></i> 
                        <strong>ูุนูููุงุช ุงูุงุชุตุงู:</strong> ุงูุณูุฑูุฑ ูุนูู ุนูู <code>192.168.0.107:5000</code>
                    </p>
                </div>
            </div>
            
            <div id="register-section" style="display:none;">
                <h3><i class="fas fa-user-plus"></i> ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ</h3>
                <input type="text" id="register-username" placeholder="ุงุณู ุงููุณุชุฎุฏู (3 ุฃุญุฑู ุนูู ุงูุฃูู)" data-tooltip="ูุฌุจ ุฃู ูููู 3 ุฃุญุฑู ุนูู ุงูุฃูู">
                <input type="password" id="register-password" placeholder="ูููุฉ ุงููุฑูุฑ (4 ุฃุญุฑู ุนูู ุงูุฃูู)" data-tooltip="ูุฌุจ ุฃู ุชููู 4 ุฃุญุฑู ุนูู ุงูุฃูู">
                <input type="email" id="register-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" data-tooltip="ููุงุณุชุฑุฌุงุน ูุงูุฅุดุนุงุฑุงุช">
                <button onclick="register()">
                    <i class="fas fa-user-plus"></i> ุฅูุดุงุก ุงูุญุณุงุจ
                </button>
                <p class="toggle-link" onclick="showLogin()">
                    <i class="fas fa-sign-in-alt"></i> ูุฏูู ุญุณุงุจ ุจุงููุนูุ ุณุฌู ุงูุฏุฎูู
                </p>
            </div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงูุฏุฑุฏุดุฉ -->
    <div class="container" id="chat-container" style="display:none;">
        <div class="chat-header">
            <h2><i class="fas fa-comments"></i> ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ ุงูุนุงูุฉ</h2>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> ุชุณุฌูู ุงูุฎุฑูุฌ
            </button>
        </div>
        
        <div class="chat-sidebar">
            <h3><i class="fas fa-users"></i> ุงููุณุชุฎุฏููู ุงููุชุตููู 
                <span id="online-count" style="background: #6a11cb; color: white; padding: 2px 10px; border-radius: 12px;">0</span>
            </h3>
            <ul id="online-users">
                <li class="empty">ุฌุงุฑู ุชุญููู ุงููุณุชุฎุฏููู...</li>
            </ul>
            
            <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #dee2e6;">
                <h4 style="color: #2575fc; margin-bottom: 10px; font-size: 16px;">
                    <i class="fas fa-info-circle"></i> ูุนูููุงุช ุงููุธุงู
                </h4>
                <div id="connection-status" style="font-size: 14px; color: #666;">
                    <i class="fas fa-circle" style="color: #dc3545;"></i> ุฌุงุฑู ุงูุงุชุตุงู...
                </div>
                <div id="user-status" style="font-size: 14px; color: #666; margin-top: 5px;">
                    <i class="fas fa-user"></i> ุบูุฑ ูุณุฌู
                </div>
            </div>
        </div>
        
        <div class="chat-main">
            <div class="chat-messages" id="chat-messages">
                <div class="message system">
                    <div class="message-text">
                        <i class="fas fa-rocket"></i> ูุฑุญุจุงู ุจู ูู ูุธุงู ุงูุฏุฑุฏุดุฉ!
                    </div>
                    <div class="message-time">
                        <i class="far fa-clock"></i> ุงูุขู
                    </div>
                </div>
                <div class="message system">
                    <div class="message-text">
                        <i class="fas fa-bell"></i> ุณูุชู ุชุญููู ุงูุฑุณุงุฆู ุงูุณุงุจูุฉ...
                    </div>
                    <div class="message-time">
                        <i class="far fa-clock"></i> ุงูุขู
                    </div>
                </div>
            </div>
            
            <!-- ูุคุดุฑ ุงููุชุงุจุฉ (ูุธูุฑ ุชููุงุฆูุงู) -->
            <div id="typing-indicator" style="display:none;"></div>
            
            <div class="chat-input">
                <input type="text" id="message-input" 
                       placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง... (ุงุถุบุท Enter ููุฅุฑุณุงู)" 
                       onkeypress="handleKeyPress(event)"
                       data-tooltip="ุงูุชุจ ุฑุณุงูุชู ูุงุถุบุท Enter ุฃู ุงููุฑ ุนูู ุฒุฑ ุงูุฅุฑุณุงู">
                <button onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i> ุฅุฑุณุงู
                </button>
            </div>
        </div>
    </div>

    <!-- ููุชุจุงุช JavaScript -->
    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
    <script src="app.js"></script>
    
    <!-- ุชูุจูู ุชููุงุฆู ุนูุฏ ุงูุชุญููู -->
    <script>
        window.addEventListener('load', function() {
            console.log('โ ุตูุญุฉ ุงูุฏุฑุฏุดุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!');
        });
    </script>
</body>
</html>
